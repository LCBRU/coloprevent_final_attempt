{% extends "ui/menu_page.html" %}
{% from "lbrc/form_macros.html" import render_form_fields, render_button_bar %}



{% block menu_page_content %}
<section class="container">
    <header>
        <h2>Consumable details</h2>

        <fieldset>
          {{ search_form.hidden_tag() }}
          {{ render_form_fields(search_form) }}

          <div class="button_bar" hx-target="body">
              <a class="icon add" href="javascript:;" title="Add Consumable details" hx-get="{{ url_for('ui.add_consumable_details')}}"  hx-target="body" hx-swap="beforeend" role="button">Add Consumable details</a>
          </div>    
      </fieldset>
    </header>
    
        <table>
            <tr>
              <th> </th>
              <th>Cat no</th>
              <th>Supplier</th>
              <th>Price increase</th>
              <th>Price</th>
              <th>Quantity per pack</th>
              <th>Consumable item</th>
            </tr>
            {% for item in ordered_list %}
            <tr>
              <td><a class="icon delete" href="{{url_for('ui.delete_consumable_details', id=item.id)}}"></a>
              <a class="icon edit" href="javascript:;"   hx-get="{{url_for('ui.edit_consumable_details', id=item.id)}}" hx-target="body" hx-swap="beforeend" ></a></td>
              <td>{{item.cat_no}}</td>
              <td>{{item.supplier}}</td>
              <td>{{item.price_increase}}</td>
              <td>{{item.price}}</td>
              <td>{{item.quantity_per_pack}}</td>
              <td>{{item.cons_name.consumable_name}}</td>

            </tr>
            {% endfor %}

          </table>
</section>
{% endblock %}
